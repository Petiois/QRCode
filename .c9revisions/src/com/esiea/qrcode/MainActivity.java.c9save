{"ts":1348485632174,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"package com.esiea.qrcode;\n\nimport android.app.Activity;\nimport android.app.AlertDialog;\nimport android.content.DialogInterface;\nimport android.content.Intent;\nimport android.database.Cursor;\nimport android.graphics.Bitmap;\nimport android.graphics.BitmapFactory;\nimport android.graphics.drawable.BitmapDrawable;\nimport android.net.Uri;\nimport android.os.Bundle;\nimport android.provider.MediaStore;\nimport android.view.Menu;\nimport android.view.MenuInflater;\nimport android.view.MenuItem;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.ImageView;\n\npublic class MainActivity extends Activity\n{\n    QRCodeView qrcvodeView = new QRCodeView(this);\n    QRCodeController qrCodeController = null;\n\n    /** Called when the activity is first created. */\n    @Override\n    public void onCreate(Bundle savedInstanceState)\n    {\n        super.onCreate(savedInstanceState);\n        qrCodeController = QRCodeController.getController(qrcvodeView);\n        this.qrCodeController.setActiveView(this.qrcvodeView);\n        setContentView(R.layout.main);\n        Button bouton = (Button)findViewById(R.id.button1);\n        bouton.setOnClickListener(new View.OnClickListener()\n        {\n            public void onClick(View v)\n            {\n\n                qrCodeController.generateAndDisplayQRcode();\n            }\n        });\n        this.qrCodeController.askForUpdate();\n    }\n\n    @Override\n    public boolean onCreateOptionsMenu(Menu menu)\n    {\n        MenuInflater inflater = getMenuInflater();\n        inflater.inflate(R.menu.menu,menu);\n        return true;\n    }\n\n    @Override\n    public boolean onOptionsItemSelected(MenuItem item)\n    {\n        switch (item.getItemId())\n        { \n        case R.id.quit:\n            this.finish();\n            break;\n        case R.id.save:\n            this.qrCodeController.savePicture();\n            break;\n        case R.id.load:\n            this.load();\n            break;\n        }\n        return true;\n    }\n\n    public void Update(BitmapDrawable bitdraw)\n    {\n        ImageView imageView = (ImageView)this.findViewById(R.id.imageView1);\n        imageView.setBackgroundDrawable(bitdraw);\n    }\n\n    public String getData()\n    {\n        EditText findViewById = (EditText) this.findViewById(R.id.editText1);\n        String getDataString = findViewById.getText().toString();\n        return getDataString;\n    }\n\n    public String getHiddenData()\n    {\n\n        EditText findViewById = (EditText) this.findViewById(R.id.EditText02);\n        String getDataString = findViewById.getText().toString();\n        return getDataString;\n    }\n\n    private void load()\n    {\n        Intent i = new Intent(Intent.ACTION_GET_CONTENT);\n        i.setType(\"image/*\");\n        startActivityForResult(i, 1);\n    }\n\n    @Override\n    protected void onActivityResult(int requestCode, int resultCode,Intent imageReturnedIntent)\n    {\n        super.onActivityResult(requestCode, resultCode, imageReturnedIntent);\n        switch (requestCode)\n        {\n        case 1:\n            if (resultCode == RESULT_OK)\n            {\n                Uri selectedImage = imageReturnedIntent.getData();\n                String[] filePathColumn = {MediaStore.Images.Media.DATA};\n                Cursor cursor = getContentResolver().query(selectedImage, filePathColumn, null, null, null);\n                cursor.moveToFirst();\n                int columnIndex = cursor.getColumnIndex(filePathColumn[0]);\n                String filePath = cursor.getString(columnIndex);\n                cursor.close();\n                Bitmap yourSelectedImage = BitmapFactory.decodeFile(filePath);\n                this.qrCodeController.analyseImage(yourSelectedImage);\n            }\n        }\n    }\n\n    public void showMessage(String message)\n    {\n        AlertDialog.Builder builder = new AlertDialog.Builder(this);\n        builder.setMessage(message)\n        .setCancelable(false)\n        .setNegativeButton(\"Ok\", new DialogInterface.OnClickListener()\n        {\n            public void onClick(DialogInterface dialog, int id)\n            {\n                dialog.cancel();\n            }\n        });\n        AlertDialog alert = builder.create();\n        alert.show();\n    }\n}\n\n"]],"start1":0,"start2":0,"length1":0,"length2":4218}]],"length":4218}
{"contributors":[],"silentsave":false,"ts":1348485651288,"patch":[[{"diffs":[[0,".qrcode;"],[-1,"\n"],[1,"\r\n\r"],[0,"\nimport "]],"start1":17,"start2":17,"length1":17,"length2":19},{"diffs":[[0,"ctivity;"],[1,"\r"],[0,"\nimport "]],"start1":49,"start2":49,"length1":16,"length2":17},{"diffs":[[0,"tDialog;"],[1,"\r"],[0,"\nimport "]],"start1":82,"start2":82,"length1":16,"length2":17},{"diffs":[[0,"terface;"],[1,"\r"],[0,"\nimport "]],"start1":123,"start2":123,"length1":16,"length2":17},{"diffs":[[0,".Intent;"],[1,"\r"],[0,"\nimport "]],"start1":155,"start2":155,"length1":16,"length2":17},{"diffs":[[0,".Cursor;"],[1,"\r"],[0,"\nimport "]],"start1":188,"start2":188,"length1":16,"length2":17},{"diffs":[[0,".Bitmap;"],[1,"\r"],[0,"\nimport "]],"start1":221,"start2":221,"length1":16,"length2":17},{"diffs":[[0,"Factory;"],[1,"\r"],[0,"\nimport "]],"start1":261,"start2":261,"length1":16,"length2":17},{"diffs":[[0,"rawable;"],[1,"\r"],[0,"\nimport "]],"start1":311,"start2":311,"length1":16,"length2":17},{"diffs":[[0,"net.Uri;"],[1,"\r"],[0,"\nimport "]],"start1":336,"start2":336,"length1":16,"length2":17},{"diffs":[[0,".Bundle;"],[1,"\r"],[0,"\nimport "]],"start1":363,"start2":363,"length1":16,"length2":17},{"diffs":[[0,"iaStore;"],[1,"\r"],[0,"\nimport "]],"start1":400,"start2":400,"length1":16,"length2":17},{"diffs":[[0,"ew.Menu;"],[1,"\r"],[0,"\nimport "]],"start1":427,"start2":427,"length1":16,"length2":17},{"diffs":[[0,"nflater;"],[1,"\r"],[0,"\nimport "]],"start1":462,"start2":462,"length1":16,"length2":17},{"diffs":[[0,"enuItem;"],[1,"\r"],[0,"\nimport "]],"start1":493,"start2":493,"length1":16,"length2":17},{"diffs":[[0,"ew.View;"],[1,"\r"],[0,"\nimport "]],"start1":520,"start2":520,"length1":16,"length2":17},{"diffs":[[0,".Button;"],[1,"\r"],[0,"\nimport "]],"start1":551,"start2":551,"length1":16,"length2":17},{"diffs":[[0,"ditText;"],[1,"\r"],[0,"\nimport "]],"start1":584,"start2":584,"length1":16,"length2":17},{"diffs":[[0,"ageView;"],[-1,"\n"],[1,"\r\n\r"],[0,"\npublic "]],"start1":618,"start2":618,"length1":17,"length2":19},{"diffs":[[0,"vity"],[1,"\r"],[0,"\n{"],[1,"\r"],[0,"\n   "]],"start1":668,"start2":668,"length1":10,"length2":12},{"diffs":[[0,"eView(this);"],[1,"\r"],[0,"\n    QRCodeC"]],"start1":715,"start2":715,"length1":24,"length2":25},{"diffs":[[0," = null;"],[-1,"\n"],[1,"\r\n\r"],[0,"\n    /**"]],"start1":766,"start2":766,"length1":17,"length2":19},{"diffs":[[0,"ated. */"],[1,"\r"],[0,"\n    @Ov"]],"start1":823,"start2":823,"length1":16,"length2":17},{"diffs":[[0,"/\r\n    @Override"],[1,"\r"],[0,"\n    public void"]],"start1":830,"start2":830,"length1":32,"length2":33},{"diffs":[[0,"ceState)"],[1,"\r"],[0,"\n    {"],[1,"\r"],[0,"\n       "]],"start1":891,"start2":891,"length1":22,"length2":24},{"diffs":[[0,"eState);"],[1,"\r"],[0,"\n       "]],"start1":943,"start2":943,"length1":16,"length2":17},{"diffs":[[0,"er(qrcvodeView);"],[1,"\r"],[0,"\n        this.qr"]],"start1":1008,"start2":1008,"length1":32,"length2":33},{"diffs":[[0,"deView);"],[1,"\r"],[0,"\n       "]],"start1":1080,"start2":1080,"length1":16,"length2":17},{"diffs":[[0,"t.main);"],[1,"\r"],[0,"\n       "]],"start1":1120,"start2":1120,"length1":16,"length2":17},{"diffs":[[0,"utton1);"],[1,"\r"],[0,"\n       "]],"start1":1181,"start2":1181,"length1":16,"length2":17},{"diffs":[[0,"nClickListener()"],[1,"\r"],[0,"\n        {\n     "]],"start1":1235,"start2":1235,"length1":32,"length2":33},{"diffs":[[0,"ner()\r\n        {"],[1,"\r"],[0,"\n            pub"]],"start1":1246,"start2":1246,"length1":32,"length2":33},{"diffs":[[0,"(View v)"],[1,"\r"],[0,"\n       "]],"start1":1295,"start2":1295,"length1":16,"length2":17},{"diffs":[[0,"           {"],[-1,"\n"],[1,"\r\n\r"],[0,"\n           "]],"start1":1306,"start2":1306,"length1":25,"length2":27},{"diffs":[[0,"layQRcode();"],[1,"\r"],[0,"\n           "]],"start1":1370,"start2":1370,"length1":24,"length2":25},{"diffs":[[0,";\r\n            }"],[1,"\r"],[0,"\n        });\n   "]],"start1":1381,"start2":1381,"length1":32,"length2":33},{"diffs":[[0,"  }\r\n        });"],[1,"\r"],[0,"\n        this.qr"]],"start1":1394,"start2":1394,"length1":32,"length2":33},{"diffs":[[0,"pdate();"],[1,"\r"],[0,"\n    }"],[-1,"\n"],[1,"\r\n\r"],[0,"\n    @Ov"]],"start1":1449,"start2":1449,"length1":23,"length2":26},{"diffs":[[0,"\n\r\n    @Override"],[1,"\r"],[0,"\n    public bool"]],"start1":1465,"start2":1465,"length1":32,"length2":33},{"diffs":[[0,"nu menu)"],[1,"\r"],[0,"\n    {"],[1,"\r"],[0,"\n       "]],"start1":1524,"start2":1524,"length1":22,"length2":24},{"diffs":[[0,"later();"],[1,"\r"],[0,"\n       "]],"start1":1583,"start2":1583,"length1":16,"length2":17},{"diffs":[[0,"u,menu);"],[1,"\r"],[0,"\n       "]],"start1":1628,"start2":1628,"length1":16,"length2":17},{"diffs":[[0,"return true;"],[1,"\r"],[0,"\n    }"],[-1,"\n"],[1,"\r\n\r"],[0,"\n    @Overri"]],"start1":1646,"start2":1646,"length1":31,"length2":34},{"diffs":[[0,"   @Override"],[1,"\r"],[0,"\n    public "]],"start1":1670,"start2":1670,"length1":24,"length2":25},{"diffs":[[0,"em item)"],[1,"\r"],[0,"\n    {"],[1,"\r"],[0,"\n       "]],"start1":1731,"start2":1731,"length1":22,"length2":24},{"diffs":[[0,"temId())"],[1,"\r"],[0,"\n       "]],"start1":1773,"start2":1773,"length1":16,"length2":17},{"diffs":[[0,"      { "],[1,"\r"],[0,"\n       "]],"start1":1785,"start2":1785,"length1":16,"length2":17},{"diffs":[[0,"id.quit:"],[1,"\r\n            this.qrCodeController.destroyController();\r"],[0,"\n       "]],"start1":1810,"start2":1810,"length1":16,"length2":73},{"diffs":[[0,"inish();"],[1,"\r"],[0,"\n       "]],"start1":1894,"start2":1894,"length1":16,"length2":17},{"diffs":[[0,"          break;"],[1,"\r"],[0,"\n        case R."]],"start1":1906,"start2":1906,"length1":32,"length2":33},{"diffs":[[0,"id.save:"],[1,"\r"],[0,"\n       "]],"start1":1939,"start2":1939,"length1":16,"length2":17},{"diffs":[[0,"vePicture();"],[1,"\r"],[0,"\n           "]],"start1":1985,"start2":1985,"length1":24,"length2":25},{"diffs":[[0,"          break;"],[1,"\r"],[0,"\n        case R."]],"start1":2001,"start2":2001,"length1":32,"length2":33},{"diffs":[[0,"id.load:"],[1,"\r"],[0,"\n       "]],"start1":2034,"start2":2034,"length1":16,"length2":17},{"diffs":[[0,".load();"],[1,"\r"],[0,"\n       "]],"start1":2060,"start2":2060,"length1":16,"length2":17},{"diffs":[[0,"  break;"],[1,"\r"],[0,"\n       "]],"start1":2080,"start2":2080,"length1":16,"length2":17},{"diffs":[[0,"reak;\r\n        }"],[1,"\r"],[0,"\n        return "]],"start1":2083,"start2":2083,"length1":32,"length2":33},{"diffs":[[0,"rn true;"],[1,"\r"],[0,"\n    }"],[-1,"\n"],[1,"\r\n\r"],[0,"\n    pub"]],"start1":2113,"start2":2113,"length1":23,"length2":26},{"diffs":[[0,"bitdraw)"],[1,"\r"],[0,"\n    {"],[1,"\r"],[0,"\n       "]],"start1":2170,"start2":2170,"length1":22,"length2":24},{"diffs":[[0,"eView1);"],[1,"\r"],[0,"\n       "]],"start1":2255,"start2":2255,"length1":16,"length2":17},{"diffs":[[0,"itdraw);"],[1,"\r"],[0,"\n    }"],[-1,"\n"],[1,"\r\n\r"],[0,"\n    pub"]],"start1":2306,"start2":2306,"length1":23,"length2":26},{"diffs":[[0,"etData()"],[1,"\r"],[0,"\n    {"],[1,"\r"],[0,"\n       "]],"start1":2344,"start2":2344,"length1":22,"length2":24},{"diffs":[[0,"tText1);"],[1,"\r"],[0,"\n       "]],"start1":2430,"start2":2430,"length1":16,"length2":17},{"diffs":[[0,"xt().toString();"],[1,"\r"],[0,"\n        return "]],"start1":2489,"start2":2489,"length1":32,"length2":33},{"diffs":[[0,"tDataString;"],[1,"\r"],[0,"\n    }"],[-1,"\n"],[1,"\r\n\r"],[0,"\n    public "]],"start1":2524,"start2":2524,"length1":31,"length2":34},{"diffs":[[0,"enData()"],[1,"\r"],[0,"\n    {"],[-1,"\n"],[1,"\r\n\r"],[0,"\n       "]],"start1":2572,"start2":2572,"length1":23,"length2":26},{"diffs":[[0,"Text02);"],[1,"\r"],[0,"\n       "]],"start1":2661,"start2":2661,"length1":16,"length2":17},{"diffs":[[0,"tring();"],[1,"\r"],[0,"\n       "]],"start1":2728,"start2":2728,"length1":16,"length2":17},{"diffs":[[0,"aString;"],[1,"\r"],[0,"\n    }"],[-1,"\n"],[1,"\r\n\r"],[0,"\n    pri"]],"start1":2759,"start2":2759,"length1":23,"length2":26},{"diffs":[[0,"d load()"],[1,"\r"],[0,"\n    {"],[1,"\r"],[0,"\n       "]],"start1":2793,"start2":2793,"length1":22,"length2":24},{"diffs":[[0,"ONTENT);"],[1,"\r"],[0,"\n       "]],"start1":2859,"start2":2859,"length1":16,"length2":17},{"diffs":[[0,"age/*\");"],[1,"\r"],[0,"\n       "]],"start1":2890,"start2":2890,"length1":16,"length2":17},{"diffs":[[0,"t(i, 1);"],[1,"\r"],[0,"\n    }"],[-1,"\n"],[1,"\r\n\r"],[0,"\n    @Ov"]],"start1":2929,"start2":2929,"length1":23,"length2":26},{"diffs":[[0,"Override"],[1,"\r"],[0,"\n    pro"]],"start1":2953,"start2":2953,"length1":16,"length2":17},{"diffs":[[0,"dIntent)"],[1,"\r"],[0,"\n    {"],[1,"\r"],[0,"\n       "]],"start1":3050,"start2":3050,"length1":22,"length2":24},{"diffs":[[0,"Intent);"],[1,"\r"],[0,"\n       "]],"start1":3136,"start2":3136,"length1":16,"length2":17},{"diffs":[[0,"estCode)"],[1,"\r"],[0,"\n       "]],"start1":3166,"start2":3166,"length1":16,"length2":17},{"diffs":[[0,"Code)\r\n        {"],[1,"\r"],[0,"\n        case 1:"]],"start1":3169,"start2":3169,"length1":32,"length2":33},{"diffs":[[0," case 1:"],[1,"\r"],[0,"\n       "]],"start1":3194,"start2":3194,"length1":16,"length2":17},{"diffs":[[0,"SULT_OK)"],[1,"\r"],[0,"\n       "]],"start1":3236,"start2":3236,"length1":16,"length2":17},{"diffs":[[0,")\r\n            {"],[1,"\r"],[0,"\n               "]],"start1":3243,"start2":3243,"length1":32,"length2":33},{"diffs":[[0,"tData();"],[1,"\r"],[0,"\n       "]],"start1":3319,"start2":3319,"length1":16,"length2":17},{"diffs":[[0,"a.DATA};"],[1,"\r"],[0,"\n       "]],"start1":3394,"start2":3394,"length1":16,"length2":17},{"diffs":[[0,", null);"],[1,"\r"],[0,"\n       "]],"start1":3504,"start2":3504,"length1":16,"length2":17},{"diffs":[[0,"First();"],[1,"\r"],[0,"\n       "]],"start1":3543,"start2":3543,"length1":16,"length2":17},{"diffs":[[0,"umn[0]);"],[1,"\r"],[0,"\n       "]],"start1":3620,"start2":3620,"length1":16,"length2":17},{"diffs":[[0,"nIndex);"],[1,"\r"],[0,"\n       "]],"start1":3686,"start2":3686,"length1":16,"length2":17},{"diffs":[[0,"sor.close();"],[1,"\r"],[0,"\n           "]],"start1":3715,"start2":3715,"length1":24,"length2":25},{"diffs":[[0,"lePath);"],[1,"\r"],[0,"\n       "]],"start1":3799,"start2":3799,"length1":16,"length2":17},{"diffs":[[0,"dImage);"],[1,"\r"],[0,"\n       "]],"start1":3871,"start2":3871,"length1":16,"length2":17},{"diffs":[[0,";\r\n            }"],[1,"\r"],[0,"\n        }\n    }"]],"start1":3878,"start2":3878,"length1":32,"length2":33},{"diffs":[[0,"       }"],[1,"\r"],[0,"\n    }"],[-1,"\n"],[1,"\r\n\r"],[0,"\n    pub"]],"start1":3897,"start2":3897,"length1":23,"length2":26},{"diffs":[[0,"message)"],[1,"\r"],[0,"\n    {"],[1,"\r"],[0,"\n       "]],"start1":3951,"start2":3951,"length1":22,"length2":24},{"diffs":[[0,"r(this);"],[1,"\r"],[0,"\n       "]],"start1":4028,"start2":4028,"length1":16,"length2":17},{"diffs":[[0,"message)"],[1,"\r"],[0,"\n       "]],"start1":4065,"start2":4065,"length1":16,"length2":17},{"diffs":[[0,"e(false)"],[1,"\r"],[0,"\n       "]],"start1":4096,"start2":4096,"length1":16,"length2":17},{"diffs":[[0,"stener()"],[1,"\r"],[0,"\n       "]],"start1":4168,"start2":4168,"length1":16,"length2":17},{"diffs":[[0,"ner()\r\n        {"],[1,"\r"],[0,"\n            pub"]],"start1":4171,"start2":4171,"length1":32,"length2":33},{"diffs":[[0," int id)"],[1,"\r"],[0,"\n       "]],"start1":4244,"start2":4244,"length1":16,"length2":17},{"diffs":[[0,"       {"],[1,"\r"],[0,"\n       "]],"start1":4259,"start2":4259,"length1":16,"length2":17},{"diffs":[[0,"ancel();"],[1,"\r"],[0,"\n       "]],"start1":4293,"start2":4293,"length1":16,"length2":17},{"diffs":[[0,"       }"],[1,"\r"],[0,"\n       "]],"start1":4308,"start2":4308,"length1":16,"length2":17},{"diffs":[[0,"     });"],[1,"\r"],[0,"\n       "]],"start1":4321,"start2":4321,"length1":16,"length2":17},{"diffs":[[0,"reate();"],[1,"\r"],[0,"\n       "]],"start1":4368,"start2":4368,"length1":16,"length2":17},{"diffs":[[0,"w();"],[1,"\r"],[0,"\n    }"],[1,"\r"],[0,"\n}"],[-1,"\n"],[1,"\r\n\r"],[0,"\n"]],"start1":4395,"start2":4395,"length1":14,"length2":18}]],"length":4413,"saved":false}
